<!DOCTYPE html>

<html>
<head>
  <title>backbone.marionette.min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="SpecRunner.html">
                SpecRunner.js
              </a>
            
              
              <a class="source" href="app.html">
                app.js
              </a>
            
              
              <a class="source" href="dialog.html">
                dialog.js
              </a>
            
              
              <a class="source" href="modal.html">
                modal.js
              </a>
            
              
              <a class="source" href="revealoptions.html">
                revealoptions.js
              </a>
            
              
              <a class="source" href="localstorage.html">
                localstorage.js
              </a>
            
              
              <a class="source" href="alert_controller.html">
                alert_controller.js
              </a>
            
              
              <a class="source" href="alert_view.html">
                alert_view.js
              </a>
            
              
              <a class="source" href="edit_controller.html">
                edit_controller.js
              </a>
            
              
              <a class="source" href="edit_view.html">
                edit_view.js
              </a>
            
              
              <a class="source" href="episodes_app.html">
                episodes_app.js
              </a>
            
              
              <a class="source" href="feed_controller.html">
                feed_controller.js
              </a>
            
              
              <a class="source" href="feed_view.html">
                feed_view.js
              </a>
            
              
              <a class="source" href="list_controller.html">
                list_controller.js
              </a>
            
              
              <a class="source" href="list_view.html">
                list_view.js
              </a>
            
              
              <a class="source" href="nav_controller.html">
                nav_controller.js
              </a>
            
              
              <a class="source" href="nav_view.html">
                nav_view.js
              </a>
            
              
              <a class="source" href="new_view.html">
                new_view.js
              </a>
            
              
              <a class="source" href="player_controller.html">
                player_controller.js
              </a>
            
              
              <a class="source" href="player_view.html">
                player_view.js
              </a>
            
              
              <a class="source" href="playlist_controller.html">
                playlist_controller.js
              </a>
            
              
              <a class="source" href="playlist_view.html">
                playlist_view.js
              </a>
            
              
              <a class="source" href="show_controller.html">
                show_controller.js
              </a>
            
              
              <a class="source" href="show_view.html">
                show_view.js
              </a>
            
              
              <a class="source" href="FeedSpec.html">
                FeedSpec.js
              </a>
            
              
              <a class="source" href="async.html">
                async.js
              </a>
            
              
              <a class="source" href="list_controller.html">
                list_controller.js
              </a>
            
              
              <a class="source" href="list_view.html">
                list_view.js
              </a>
            
              
              <a class="source" href="show_controller.html">
                show_controller.js
              </a>
            
              
              <a class="source" href="show_view.html">
                show_view.js
              </a>
            
              
              <a class="source" href="subscriptions_app.html">
                subscriptions_app.js
              </a>
            
              
              <a class="source" href="build.html">
                build.js
              </a>
            
              
              <a class="source" href="modal.html">
                modal.js
              </a>
            
              
              <a class="source" href="utils.html">
                utils.js
              </a>
            
              
              <a class="source" href="view.html">
                view.js
              </a>
            
              
              <a class="source" href="views.html">
                views.js
              </a>
            
              
              <a class="source" href="episode.html">
                episode.js
              </a>
            
              
              <a class="source" href="feed.html">
                feed.js
              </a>
            
              
              <a class="source" href="player.html">
                player.js
              </a>
            
              
              <a class="source" href="playlist.html">
                playlist.js
              </a>
            
              
              <a class="source" href="subscriptions.html">
                subscriptions.js
              </a>
            
              
              <a class="source" href="topics.html">
                topics.js
              </a>
            
              
              <a class="source" href="require_main.html">
                require_main.js
              </a>
            
              
              <a class="source" href="require_main_built.html">
                require_main_built.js
              </a>
            
              
              <a class="source" href="almond.html">
                almond.js
              </a>
            
              
              <a class="source" href="backbone.babysitter.html">
                backbone.babysitter.js
              </a>
            
              
              <a class="source" href="backbone.html">
                backbone.js
              </a>
            
              
              <a class="source" href="backbone.localstorage.html">
                backbone.localstorage.js
              </a>
            
              
              <a class="source" href="backbone.localstorage.min.html">
                backbone.localstorage.min.js
              </a>
            
              
              <a class="source" href="backbone.marionette.html">
                backbone.marionette.js
              </a>
            
              
              <a class="source" href="backbone.marionette.min.html">
                backbone.marionette.min.js
              </a>
            
              
              <a class="source" href="backbone.picky.html">
                backbone.picky.js
              </a>
            
              
              <a class="source" href="backbone.syphon.html">
                backbone.syphon.js
              </a>
            
              
              <a class="source" href="backbone.wreqr.html">
                backbone.wreqr.js
              </a>
            
              
              <a class="source" href="foundation.fastclick.html">
                foundation.fastclick.js
              </a>
            
              
              <a class="source" href="foundation.html">
                foundation.js
              </a>
            
              
              <a class="source" href="foundation.min.html">
                foundation.min.js
              </a>
            
              
              <a class="source" href="foundation.offcanvas.html">
                foundation.offcanvas.js
              </a>
            
              
              <a class="source" href="foundation.reveal.html">
                foundation.reveal.js
              </a>
            
              
              <a class="source" href="jasmine-html.html">
                jasmine-html.js
              </a>
            
              
              <a class="source" href="jasmine.html">
                jasmine.js
              </a>
            
              
              <a class="source" href="jasmine-html.html">
                jasmine-html.js
              </a>
            
              
              <a class="source" href="jasmine.html">
                jasmine.js
              </a>
            
              
              <a class="source" href="jquery-ui-1.10.3.min.html">
                jquery-ui-1.10.3.min.js
              </a>
            
              
              <a class="source" href="jquery-ui.html">
                jquery-ui.js
              </a>
            
              
              <a class="source" href="jquery.html">
                jquery.js
              </a>
            
              
              <a class="source" href="jquery.transit.html">
                jquery.transit.js
              </a>
            
              
              <a class="source" href="jquery.transmit.html">
                jquery.transmit.js
              </a>
            
              
              <a class="source" href="json2.html">
                json2.js
              </a>
            
              
              <a class="source" href="log.html">
                log.js
              </a>
            
              
              <a class="source" href="modernizr.html">
                modernizr.js
              </a>
            
              
              <a class="source" href="require.html">
                require.js
              </a>
            
              
              <a class="source" href="jasmine-sinon.html">
                jasmine-sinon.js
              </a>
            
              
              <a class="source" href="sinon.html">
                sinon.js
              </a>
            
              
              <a class="source" href="spin.jquery.html">
                spin.jquery.js
              </a>
            
              
              <a class="source" href="spin.html">
                spin.js
              </a>
            
              
              <a class="source" href="tpl.html">
                tpl.js
              </a>
            
              
              <a class="source" href="underscore.html">
                underscore.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>backbone.marionette.min.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h2 id="marionettejs-backbone-marionette-">MarionetteJS (Backbone.Marionette)</h2>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>v1.1.0</p>
<p>Copyright (c)2013 Derick Bailey, Muted Solutions, LLC.
Distributed under MIT license</p>
<p><a href="http://marionettejs.com">http://marionettejs.com</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>


<span class="hljs-comment">/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */</span>

Backbone.ChildViewContainer=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>._views={},<span class="hljs-keyword">this</span>._indexByModel={},<span class="hljs-keyword">this</span>._indexByCustom={},<span class="hljs-keyword">this</span>._updateLength(),t.each(e,<span class="hljs-keyword">this</span>.add,<span class="hljs-keyword">this</span>)};t.extend(i.prototype,{add:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i=e.cid;<span class="hljs-keyword">this</span>._views[i]=e,e.model&amp;&amp;(<span class="hljs-keyword">this</span>._indexByModel[e.model.cid]=i),t&amp;&amp;(<span class="hljs-keyword">this</span>._indexByCustom[t]=i),<span class="hljs-keyword">this</span>._updateLength()},findByModel:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.findByModelCid(e.cid)},findByModelCid:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._indexByModel[e];<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.findByCid(t)},findByCustom:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._indexByCustom[e];<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.findByCid(t)},findByIndex:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> t.values(<span class="hljs-keyword">this</span>._views)[e]},findByCid:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._views[e]},remove:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> i=e.cid;e.model&amp;&amp;<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._indexByModel[e.model.cid],t.any(<span class="hljs-keyword">this</span>._indexByCustom,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">return</span> e===i?(<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._indexByCustom[t],!<span class="hljs-number">0</span>):<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>},<span class="hljs-keyword">this</span>),<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._views[i],<span class="hljs-keyword">this</span>._updateLength()},call:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.apply(e,t.tail(<span class="hljs-built_in">arguments</span>))},apply:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,i)</span>{</span>t.each(<span class="hljs-keyword">this</span>._views,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(n)</span>{</span>t.isFunction(n[e])&amp;&amp;n[e].apply(n,i||[])})},_updateLength:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.length=t.size(<span class="hljs-keyword">this</span>._views)}});<span class="hljs-keyword">var</span> n=[<span class="hljs-string">"forEach"</span>,<span class="hljs-string">"each"</span>,<span class="hljs-string">"map"</span>,<span class="hljs-string">"find"</span>,<span class="hljs-string">"detect"</span>,<span class="hljs-string">"filter"</span>,<span class="hljs-string">"select"</span>,<span class="hljs-string">"reject"</span>,<span class="hljs-string">"every"</span>,<span class="hljs-string">"all"</span>,<span class="hljs-string">"some"</span>,<span class="hljs-string">"any"</span>,<span class="hljs-string">"include"</span>,<span class="hljs-string">"contains"</span>,<span class="hljs-string">"invoke"</span>,<span class="hljs-string">"toArray"</span>,<span class="hljs-string">"first"</span>,<span class="hljs-string">"initial"</span>,<span class="hljs-string">"rest"</span>,<span class="hljs-string">"last"</span>,<span class="hljs-string">"without"</span>,<span class="hljs-string">"isEmpty"</span>,<span class="hljs-string">"pluck"</span>];<span class="hljs-keyword">return</span> t.each(n,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>i.prototype[e]=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> i=t.values(<span class="hljs-keyword">this</span>._views),n=[i].concat(t.toArray(<span class="hljs-built_in">arguments</span>));<span class="hljs-keyword">return</span> t[e].apply(t,n)}}),i}(Backbone,_),Backbone.Wreqr=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,i)</span>{</span><span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">var</span> n={};<span class="hljs-keyword">return</span> n.Handlers=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.options=e,<span class="hljs-keyword">this</span>._wreqrHandlers={},t.isFunction(<span class="hljs-keyword">this</span>.initialize)&amp;&amp;<span class="hljs-keyword">this</span>.initialize(e)};<span class="hljs-keyword">return</span> i.extend=e.Model.extend,t.extend(i.prototype,e.Events,{setHandlers:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>t.each(e,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,i)</span>{</span><span class="hljs-keyword">var</span> n=<span class="hljs-literal">null</span>;t.isObject(e)&amp;&amp;!t.isFunction(e)&amp;&amp;(n=e.context,e=e.callback),<span class="hljs-keyword">this</span>.setHandler(i,e,n)},<span class="hljs-keyword">this</span>)},setHandler:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,i)</span>{</span><span class="hljs-keyword">var</span> n={callback:t,context:i};<span class="hljs-keyword">this</span>._wreqrHandlers[e]=n,<span class="hljs-keyword">this</span>.trigger(<span class="hljs-string">"handler:add"</span>,e,t,i)},hasHandler:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span>!!<span class="hljs-keyword">this</span>._wreqrHandlers[e]},getHandler:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._wreqrHandlers[e];<span class="hljs-keyword">if</span>(!t)<span class="hljs-keyword">throw</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Handler not found for '"</span>+e+<span class="hljs-string">"'"</span>);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=<span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);<span class="hljs-keyword">return</span> t.callback.apply(t.context,e)}},removeHandler:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._wreqrHandlers[e]},removeAllHandlers:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>._wreqrHandlers={}}}),i}(e,i),n.CommandStorage=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.options=e,<span class="hljs-keyword">this</span>._commands={},i.isFunction(<span class="hljs-keyword">this</span>.initialize)&amp;&amp;<span class="hljs-keyword">this</span>.initialize(e)};<span class="hljs-keyword">return</span> i.extend(t.prototype,e.Events,{getCommands:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._commands[e];<span class="hljs-keyword">return</span> t||(t={command:e,instances:[]},<span class="hljs-keyword">this</span>._commands[e]=t),t},addCommand:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.getCommands(e);i.instances.push(t)},clearCommands:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.getCommands(e);t.instances=[]}}),t}(),n.Commands=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> e.Handlers.extend({storageType:e.CommandStorage,constructor:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t)</span>{</span><span class="hljs-keyword">this</span>.options=t||{},<span class="hljs-keyword">this</span>._initializeStorage(<span class="hljs-keyword">this</span>.options),<span class="hljs-keyword">this</span>.on(<span class="hljs-string">"handler:add"</span>,<span class="hljs-keyword">this</span>._executeCommands,<span class="hljs-keyword">this</span>);<span class="hljs-keyword">var</span> i=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>);e.Handlers.prototype.constructor.apply(<span class="hljs-keyword">this</span>,i)},execute:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span>e=<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>],t=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">1</span>),<span class="hljs-keyword">this</span>.hasHandler(e)?<span class="hljs-keyword">this</span>.getHandler(e).apply(<span class="hljs-keyword">this</span>,t):<span class="hljs-keyword">this</span>.storage.addCommand(e,t)},_executeCommands:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,n)</span>{</span><span class="hljs-keyword">var</span> r=<span class="hljs-keyword">this</span>.storage.getCommands(e);i.each(r.instances,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>t.apply(n,e)}),<span class="hljs-keyword">this</span>.storage.clearCommands(e)},_initializeStorage:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t,n=e.storageType||<span class="hljs-keyword">this</span>.storageType;t=i.isFunction(n)?<span class="hljs-keyword">new</span> n:n,<span class="hljs-keyword">this</span>.storage=t}})}(n),n.RequestResponse=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> e.Handlers.extend({request:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>],t=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">1</span>);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getHandler(e).apply(<span class="hljs-keyword">this</span>,t)}})}(n),n.EventAggregator=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>};<span class="hljs-keyword">return</span> i.extend=e.Model.extend,t.extend(i.prototype,e.Events),i}(e,i),n}(Backbone,Backbone.Marionette,_);<span class="hljs-keyword">var</span> Marionette=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,i)</span>{</span><span class="hljs-string">"use strict"</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> s.call(e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i=<span class="hljs-built_in">Error</span>(e);<span class="hljs-keyword">throw</span> i.name=t||<span class="hljs-string">"Error"</span>,i}<span class="hljs-keyword">var</span> o={};t.Marionette=o,o.$=t.$;<span class="hljs-keyword">var</span> s=<span class="hljs-built_in">Array</span>.prototype.slice;<span class="hljs-keyword">return</span> o.extend=t.Model.extend,o.getOption=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">if</span>(e&amp;&amp;t){<span class="hljs-keyword">var</span> i;<span class="hljs-keyword">return</span> i=e.options&amp;&amp;t <span class="hljs-keyword">in</span> e.options&amp;&amp;<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>!==e.options[t]?e.options[t]:e[t]}},o.triggerMethod=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span><span class="hljs-params">(e,t,i)</span>{</span><span class="hljs-keyword">return</span> i.toUpperCase()}<span class="hljs-keyword">var</span> t=<span class="hljs-regexp">/(^|:)(\w)/gi</span>,n=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(n)</span>{</span><span class="hljs-keyword">var</span> r=<span class="hljs-string">"on"</span>+n.replace(t,e),o=<span class="hljs-keyword">this</span>[r];<span class="hljs-keyword">return</span> i.isFunction(<span class="hljs-keyword">this</span>.trigger)&amp;&amp;<span class="hljs-keyword">this</span>.trigger.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>),i.isFunction(o)?o.apply(<span class="hljs-keyword">this</span>,i.tail(<span class="hljs-built_in">arguments</span>)):<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>};<span class="hljs-keyword">return</span> n}(),o.MonitorDOMRefresh=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span><span class="hljs-params">(e)</span>{</span>e._isShown=!<span class="hljs-number">0</span>,n(e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span><span class="hljs-params">(e)</span>{</span>e._isRendered=!<span class="hljs-number">0</span>,n(e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span><span class="hljs-params">(e)</span>{</span>e._isShown&amp;&amp;e._isRendered&amp;&amp;i.isFunction(e.triggerMethod)&amp;&amp;e.triggerMethod(<span class="hljs-string">"dom:refresh"</span>)}<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(i)</span>{</span>i.listenTo(i,<span class="hljs-string">"show"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>e(i)}),i.listenTo(i,<span class="hljs-string">"render"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>t(i)})}}(),<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span><span class="hljs-params">(e,t,n,o)</span>{</span><span class="hljs-keyword">var</span> s=o.split(<span class="hljs-regexp">/\s+/</span>);i.each(s,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(i)</span>{</span><span class="hljs-keyword">var</span> o=e[i];o||r(<span class="hljs-string">"Method '"</span>+i+<span class="hljs-string">"' was configured as an event handler, but does not exist."</span>),e.listenTo(t,n,o,e)})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span><span class="hljs-params">(e,t,i,n)</span>{</span>e.listenTo(t,i,n,e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span><span class="hljs-params">(e,t,n,r)</span>{</span><span class="hljs-keyword">var</span> o=r.split(<span class="hljs-regexp">/\s+/</span>);i.each(o,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(i)</span>{</span><span class="hljs-keyword">var</span> r=e[i];e.stopListening(t,n,r,e)})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span><span class="hljs-params">(e,t,i,n)</span>{</span>e.stopListening(t,i,n,e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span><span class="hljs-params">(e,t,n,r,o)</span>{</span>t&amp;&amp;n&amp;&amp;(i.isFunction(n)&amp;&amp;(n=n.call(e)),i.each(n,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(n,s)</span>{</span>i.isFunction(n)?r(e,t,s,n):o(e,t,s,n)}))}e.bindEntityEvents=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,i,r)</span>{</span>h(e,i,r,n,t)},e.unbindEntityEvents=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,i)</span>{</span>h(e,t,i,s,o)}}(o),o.Callbacks=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>._deferred=o.$.Deferred(),<span class="hljs-keyword">this</span>._callbacks=[]},i.extend(o.Callbacks.prototype,{add:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">this</span>._callbacks.push({cb:e,ctx:t}),<span class="hljs-keyword">this</span>._deferred.done(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(i,n)</span>{</span>t&amp;&amp;(i=t),e.call(i,n)})},run:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">this</span>._deferred.resolve(t,e)},reset:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>._callbacks;<span class="hljs-keyword">this</span>._deferred=o.$.Deferred(),<span class="hljs-keyword">this</span>._callbacks=[],i.each(e,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.add(e.cb,e.ctx)},<span class="hljs-keyword">this</span>)}}),o.Controller=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.triggerMethod=o.triggerMethod,<span class="hljs-keyword">this</span>.options=e||{},i.isFunction(<span class="hljs-keyword">this</span>.initialize)&amp;&amp;<span class="hljs-keyword">this</span>.initialize(<span class="hljs-keyword">this</span>.options)},o.Controller.extend=o.extend,i.extend(o.Controller.prototype,t.Events,{close:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.stopListening(),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"close"</span>),<span class="hljs-keyword">this</span>.unbind()}}),o.Region=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.options=e||{},<span class="hljs-keyword">this</span>.el=o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"el"</span>),!<span class="hljs-keyword">this</span>.el){<span class="hljs-keyword">var</span> t=<span class="hljs-built_in">Error</span>(<span class="hljs-string">"An 'el' must be specified for a region."</span>);<span class="hljs-keyword">throw</span> t.name=<span class="hljs-string">"NoElError"</span>,t}<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.initialize){<span class="hljs-keyword">var</span> i=<span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);<span class="hljs-keyword">this</span>.initialize.apply(<span class="hljs-keyword">this</span>,i)}},i.extend(o.Region,{buildRegion:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> n=<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e,r=<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e.selector,o=e.regionType===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,s=<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> e;<span class="hljs-keyword">if</span>(!s&amp;&amp;!n&amp;&amp;!r)<span class="hljs-keyword">throw</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Region must be specified as a Region type, a selector string or an object with selector property"</span>);<span class="hljs-keyword">var</span> h,a;n&amp;&amp;(h=e),e.selector&amp;&amp;(h=e.selector),s&amp;&amp;(a=e),!s&amp;&amp;o&amp;&amp;(a=t),e.regionType&amp;&amp;(a=e.regionType);<span class="hljs-keyword">var</span> l=<span class="hljs-keyword">new</span> a({el:h});<span class="hljs-keyword">return</span> e.parentEl&amp;&amp;(l.getEl=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t)</span>{</span><span class="hljs-keyword">var</span> n=e.parentEl;<span class="hljs-keyword">return</span> i.isFunction(n)&amp;&amp;(n=n()),n.find(t)}),l}}),i.extend(o.Region.prototype,t.Events,{show:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.ensureEl();<span class="hljs-keyword">var</span> t=e.isClosed||i.isUndefined(e.$el),n=e!==<span class="hljs-keyword">this</span>.currentView;n&amp;&amp;<span class="hljs-keyword">this</span>.close(),e.render(),(n||t)&amp;&amp;<span class="hljs-keyword">this</span>.open(e),<span class="hljs-keyword">this</span>.currentView=e,o.triggerMethod.call(<span class="hljs-keyword">this</span>,<span class="hljs-string">"show"</span>,e),o.triggerMethod.call(e,<span class="hljs-string">"show"</span>)},ensureEl:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.$el&amp;&amp;<span class="hljs-number">0</span>!==<span class="hljs-keyword">this</span>.$el.length||(<span class="hljs-keyword">this</span>.$el=<span class="hljs-keyword">this</span>.getEl(<span class="hljs-keyword">this</span>.el))},getEl:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> o.$(e)},open:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.$el.empty().append(e.el)},close:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.currentView;e&amp;&amp;!e.isClosed&amp;&amp;(e.close?e.close():e.remove&amp;&amp;e.remove(),o.triggerMethod.call(<span class="hljs-keyword">this</span>,<span class="hljs-string">"close"</span>),<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.currentView)},attachView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.currentView=e},reset:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.close(),<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.$el}}),o.Region.extend=o.extend,o.RegionManager=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=e.Controller.extend({constructor:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t)</span>{</span><span class="hljs-keyword">this</span>._regions={},e.Controller.prototype.constructor.call(<span class="hljs-keyword">this</span>,t)},addRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> n={};<span class="hljs-keyword">return</span> i.each(e,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,r)</span>{</span><span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;(e={selector:e}),e.selector&amp;&amp;(e=i.defaults({},e,t));<span class="hljs-keyword">var</span> o=<span class="hljs-keyword">this</span>.addRegion(r,e);n[r]=o},<span class="hljs-keyword">this</span>),n},addRegion:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t,n)</span>{</span><span class="hljs-keyword">var</span> r,o=i.isObject(n),s=i.isString(n),h=!!n.selector;<span class="hljs-keyword">return</span> r=s||o&amp;&amp;h?e.Region.buildRegion(n,e.Region):i.isFunction(n)?e.Region.buildRegion(n,e.Region):n,<span class="hljs-keyword">this</span>._store(t,r),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"region:add"</span>,t,r),r},get:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._regions[e]},removeRegion:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._regions[e];<span class="hljs-keyword">this</span>._remove(e,t)},removeRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>i.each(<span class="hljs-keyword">this</span>._regions,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">this</span>._remove(t,e)},<span class="hljs-keyword">this</span>)},closeRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>i.each(<span class="hljs-keyword">this</span>._regions,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>e.close()},<span class="hljs-keyword">this</span>)},close:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.removeRegions();<span class="hljs-keyword">var</span> t=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>);e.Controller.prototype.close.apply(<span class="hljs-keyword">this</span>,t)},_store:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">this</span>._regions[e]=t,<span class="hljs-keyword">this</span>._setLength()},_remove:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span>t.close(),<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._regions[e],<span class="hljs-keyword">this</span>._setLength(),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"region:remove"</span>,e,t)},_setLength:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.length=i.size(<span class="hljs-keyword">this</span>._regions)}}),n=[<span class="hljs-string">"forEach"</span>,<span class="hljs-string">"each"</span>,<span class="hljs-string">"map"</span>,<span class="hljs-string">"find"</span>,<span class="hljs-string">"detect"</span>,<span class="hljs-string">"filter"</span>,<span class="hljs-string">"select"</span>,<span class="hljs-string">"reject"</span>,<span class="hljs-string">"every"</span>,<span class="hljs-string">"all"</span>,<span class="hljs-string">"some"</span>,<span class="hljs-string">"any"</span>,<span class="hljs-string">"include"</span>,<span class="hljs-string">"contains"</span>,<span class="hljs-string">"invoke"</span>,<span class="hljs-string">"toArray"</span>,<span class="hljs-string">"first"</span>,<span class="hljs-string">"initial"</span>,<span class="hljs-string">"rest"</span>,<span class="hljs-string">"last"</span>,<span class="hljs-string">"without"</span>,<span class="hljs-string">"isEmpty"</span>,<span class="hljs-string">"pluck"</span>];<span class="hljs-keyword">return</span> i.each(n,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>t.prototype[e]=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> t=i.values(<span class="hljs-keyword">this</span>._regions),n=[t].concat(i.toArray(<span class="hljs-built_in">arguments</span>));<span class="hljs-keyword">return</span> i[e].apply(i,n)}}),t}(o),o.TemplateCache=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.templateId=e},i.extend(o.TemplateCache,{templateCaches:{},get:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.templateCaches[e];<span class="hljs-keyword">return</span> t||(t=<span class="hljs-keyword">new</span> o.TemplateCache(e),<span class="hljs-keyword">this</span>.templateCaches[e]=t),t.load()},clear:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e,t=n(<span class="hljs-built_in">arguments</span>),i=t.length;<span class="hljs-keyword">if</span>(i&gt;<span class="hljs-number">0</span>)<span class="hljs-keyword">for</span>(e=<span class="hljs-number">0</span>;i&gt;e;e++)<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.templateCaches[t[e]];<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.templateCaches={}}}),i.extend(o.TemplateCache.prototype,{load:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.compiledTemplate)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.compiledTemplate;<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.loadTemplate(<span class="hljs-keyword">this</span>.templateId);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.compiledTemplate=<span class="hljs-keyword">this</span>.compileTemplate(e),<span class="hljs-keyword">this</span>.compiledTemplate},loadTemplate:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=o.$(e).html();<span class="hljs-keyword">return</span> t&amp;&amp;<span class="hljs-number">0</span>!==t.length||r(<span class="hljs-string">"Could not find template: '"</span>+e+<span class="hljs-string">"'"</span>,<span class="hljs-string">"NoTemplateError"</span>),t},compileTemplate:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> i.template(e)}}),o.Renderer={render:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">if</span>(!e){<span class="hljs-keyword">var</span> i=<span class="hljs-built_in">Error</span>(<span class="hljs-string">"Cannot render the template since it's false, null or undefined."</span>);<span class="hljs-keyword">throw</span> i.name=<span class="hljs-string">"TemplateNotFoundError"</span>,i}<span class="hljs-keyword">var</span> n;<span class="hljs-keyword">return</span> n=<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> e?e:o.TemplateCache.get(e),n(t)}},o.View=t.View.extend({constructor:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>i.bindAll(<span class="hljs-keyword">this</span>,<span class="hljs-string">"render"</span>);<span class="hljs-keyword">var</span> e=<span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);t.View.prototype.constructor.apply(<span class="hljs-keyword">this</span>,e),o.MonitorDOMRefresh(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>,<span class="hljs-string">"show"</span>,<span class="hljs-keyword">this</span>.onShowCalled,<span class="hljs-keyword">this</span>)},triggerMethod:o.triggerMethod,getTemplate:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span> o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"template"</span>)},mixinTemplateHelpers:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>e=e||{};<span class="hljs-keyword">var</span> t=o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"templateHelpers"</span>);<span class="hljs-keyword">return</span> i.isFunction(t)&amp;&amp;(t=t.call(<span class="hljs-keyword">this</span>)),i.extend(e,t)},configureTriggers:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.triggers){<span class="hljs-keyword">var</span> e={},t=i.result(<span class="hljs-keyword">this</span>,<span class="hljs-string">"triggers"</span>);<span class="hljs-keyword">return</span> i.each(t,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t,i)</span>{</span>e[i]=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>e&amp;&amp;e.preventDefault&amp;&amp;e.preventDefault(),e&amp;&amp;e.stopPropagation&amp;&amp;e.stopPropagation();<span class="hljs-keyword">var</span> i={view:<span class="hljs-keyword">this</span>,model:<span class="hljs-keyword">this</span>.model,collection:<span class="hljs-keyword">this</span>.collection};<span class="hljs-keyword">this</span>.triggerMethod(t,i)}},<span class="hljs-keyword">this</span>),e}},delegateEvents:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>._delegateDOMEvents(e),o.bindEntityEvents(<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.model,o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"modelEvents"</span>)),o.bindEntityEvents(<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.collection,o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"collectionEvents"</span>))},_delegateDOMEvents:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>e=e||<span class="hljs-keyword">this</span>.events,i.isFunction(e)&amp;&amp;(e=e.call(<span class="hljs-keyword">this</span>));<span class="hljs-keyword">var</span> n={},r=<span class="hljs-keyword">this</span>.configureTriggers();i.extend(n,e,r),t.View.prototype.delegateEvents.call(<span class="hljs-keyword">this</span>,n)},undelegateEvents:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>);t.View.prototype.undelegateEvents.apply(<span class="hljs-keyword">this</span>,e),o.unbindEntityEvents(<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.model,o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"modelEvents"</span>)),o.unbindEntityEvents(<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.collection,o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"collectionEvents"</span>))},onShowCalled:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>},close:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.isClosed){<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"before:close"</span>);e!==!<span class="hljs-number">1</span>&amp;&amp;(<span class="hljs-keyword">this</span>.isClosed=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"close"</span>),<span class="hljs-keyword">this</span>.unbindUIElements(),<span class="hljs-keyword">this</span>.remove())}},bindUIElements:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.ui){<span class="hljs-keyword">this</span>._uiBindings||(<span class="hljs-keyword">this</span>._uiBindings=<span class="hljs-keyword">this</span>.ui);<span class="hljs-keyword">var</span> e=i.result(<span class="hljs-keyword">this</span>,<span class="hljs-string">"_uiBindings"</span>);<span class="hljs-keyword">this</span>.ui={},i.each(i.keys(e),<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t)</span>{</span><span class="hljs-keyword">var</span> i=e[t];<span class="hljs-keyword">this</span>.ui[t]=<span class="hljs-keyword">this</span>.$(i)},<span class="hljs-keyword">this</span>)}},unbindUIElements:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.ui&amp;&amp;<span class="hljs-keyword">this</span>._uiBindings&amp;&amp;(i.each(<span class="hljs-keyword">this</span>.ui,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.ui[t]},<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.ui=<span class="hljs-keyword">this</span>._uiBindings,<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._uiBindings)}}),o.ItemView=o.View.extend({constructor:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>o.View.prototype.constructor.apply(<span class="hljs-keyword">this</span>,n(<span class="hljs-built_in">arguments</span>))},serializeData:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e={};<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.model?e=<span class="hljs-keyword">this</span>.model.toJSON():<span class="hljs-keyword">this</span>.collection&amp;&amp;(e={items:<span class="hljs-keyword">this</span>.collection.toJSON()}),e},render:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.isClosed=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"before:render"</span>,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"item:before:render"</span>,<span class="hljs-keyword">this</span>);<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.serializeData();e=<span class="hljs-keyword">this</span>.mixinTemplateHelpers(e);<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.getTemplate(),i=o.Renderer.render(t,e);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$el.html(i),<span class="hljs-keyword">this</span>.bindUIElements(),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"render"</span>,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"item:rendered"</span>,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>},close:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.isClosed||(<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"item:before:close"</span>),o.View.prototype.close.apply(<span class="hljs-keyword">this</span>,n(<span class="hljs-built_in">arguments</span>)),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"item:closed"</span>))}}),o.CollectionView=o.View.extend({itemViewEventPrefix:<span class="hljs-string">"itemview"</span>,constructor:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>._initChildViewStorage(),o.View.prototype.constructor.apply(<span class="hljs-keyword">this</span>,n(<span class="hljs-built_in">arguments</span>)),<span class="hljs-keyword">this</span>._initialEvents()},_initialEvents:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.collection&amp;&amp;(<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.collection,<span class="hljs-string">"add"</span>,<span class="hljs-keyword">this</span>.addChildView,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.collection,<span class="hljs-string">"remove"</span>,<span class="hljs-keyword">this</span>.removeItemView,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.collection,<span class="hljs-string">"reset"</span>,<span class="hljs-keyword">this</span>.render,<span class="hljs-keyword">this</span>))},addChildView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.closeEmptyView();<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.getItemView(e),i=<span class="hljs-keyword">this</span>.collection.indexOf(e);<span class="hljs-keyword">this</span>.addItemView(e,t,i)},onShowCalled:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.children.each(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>o.triggerMethod.call(e,<span class="hljs-string">"show"</span>)})},triggerBeforeRender:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"before:render"</span>,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"collection:before:render"</span>,<span class="hljs-keyword">this</span>)},triggerRendered:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"render"</span>,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"collection:rendered"</span>,<span class="hljs-keyword">this</span>)},render:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isClosed=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.triggerBeforeRender(),<span class="hljs-keyword">this</span>._renderChildren(),<span class="hljs-keyword">this</span>.triggerRendered(),<span class="hljs-keyword">this</span>},_renderChildren:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.closeEmptyView(),<span class="hljs-keyword">this</span>.closeChildren(),<span class="hljs-keyword">this</span>.collection&amp;&amp;<span class="hljs-keyword">this</span>.collection.length&gt;<span class="hljs-number">0</span>?<span class="hljs-keyword">this</span>.showCollection():<span class="hljs-keyword">this</span>.showEmptyView()},showCollection:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e;<span class="hljs-keyword">this</span>.collection.each(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t,i)</span>{</span>e=<span class="hljs-keyword">this</span>.getItemView(t),<span class="hljs-keyword">this</span>.addItemView(t,e,i)},<span class="hljs-keyword">this</span>)},showEmptyView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"emptyView"</span>);<span class="hljs-keyword">if</span>(e&amp;&amp;!<span class="hljs-keyword">this</span>._showingEmptyView){<span class="hljs-keyword">this</span>._showingEmptyView=!<span class="hljs-number">0</span>;<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">new</span> t.Model;<span class="hljs-keyword">this</span>.addItemView(i,e,<span class="hljs-number">0</span>)}},closeEmptyView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>._showingEmptyView&amp;&amp;(<span class="hljs-keyword">this</span>.closeChildren(),<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._showingEmptyView)},getItemView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"itemView"</span>);<span class="hljs-keyword">return</span> e||r(<span class="hljs-string">"An `itemView` must be specified"</span>,<span class="hljs-string">"NoItemViewError"</span>),e},addItemView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,n)</span>{</span><span class="hljs-keyword">var</span> r=o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"itemViewOptions"</span>);i.isFunction(r)&amp;&amp;(r=r.call(<span class="hljs-keyword">this</span>,e,n));<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>.buildItemView(e,t,r);<span class="hljs-keyword">this</span>.addChildViewEventForwarding(s),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"before:item:added"</span>,s),<span class="hljs-keyword">this</span>.children.add(s),<span class="hljs-keyword">this</span>.renderItemView(s,n),<span class="hljs-keyword">this</span>._isShown&amp;&amp;o.triggerMethod.call(s,<span class="hljs-string">"show"</span>),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"after:item:added"</span>,s)},addChildViewEventForwarding:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"itemViewEventPrefix"</span>);<span class="hljs-keyword">this</span>.listenTo(e,<span class="hljs-string">"all"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> i=n(<span class="hljs-built_in">arguments</span>);i[<span class="hljs-number">0</span>]=t+<span class="hljs-string">":"</span>+i[<span class="hljs-number">0</span>],i.splice(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,e),o.triggerMethod.apply(<span class="hljs-keyword">this</span>,i)},<span class="hljs-keyword">this</span>)},renderItemView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span>e.render(),<span class="hljs-keyword">this</span>.appendHtml(<span class="hljs-keyword">this</span>,e,t)},buildItemView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,n)</span>{</span><span class="hljs-keyword">var</span> r=i.extend({model:e},n);<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> t(r)},removeItemView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.children.findByModel(e);<span class="hljs-keyword">this</span>.removeChildView(t),<span class="hljs-keyword">this</span>.checkEmpty()},removeChildView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>e&amp;&amp;(<span class="hljs-keyword">this</span>.stopListening(e),e.close?e.close():e.remove&amp;&amp;e.remove(),<span class="hljs-keyword">this</span>.children.remove(e)),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"item:removed"</span>,e)},checkEmpty:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.collection&amp;&amp;<span class="hljs-number">0</span>!==<span class="hljs-keyword">this</span>.collection.length||<span class="hljs-keyword">this</span>.showEmptyView()},appendHtml:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span>e.$el.append(t.el)},_initChildViewStorage:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.children=<span class="hljs-keyword">new</span> t.ChildViewContainer},close:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.isClosed||(<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"collection:before:close"</span>),<span class="hljs-keyword">this</span>.closeChildren(),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"collection:closed"</span>),o.View.prototype.close.apply(<span class="hljs-keyword">this</span>,n(<span class="hljs-built_in">arguments</span>)))},closeChildren:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.children.each(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.removeChildView(e)},<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.checkEmpty()}}),o.CompositeView=o.CollectionView.extend({constructor:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>o.CollectionView.prototype.constructor.apply(<span class="hljs-keyword">this</span>,n(<span class="hljs-built_in">arguments</span>))},_initialEvents:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.collection&amp;&amp;(<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.collection,<span class="hljs-string">"add"</span>,<span class="hljs-keyword">this</span>.addChildView,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.collection,<span class="hljs-string">"remove"</span>,<span class="hljs-keyword">this</span>.removeItemView,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.collection,<span class="hljs-string">"reset"</span>,<span class="hljs-keyword">this</span>._renderChildren,<span class="hljs-keyword">this</span>))},getItemView:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"itemView"</span>)||<span class="hljs-keyword">this</span>.constructor;<span class="hljs-keyword">return</span> e||r(<span class="hljs-string">"An `itemView` must be specified"</span>,<span class="hljs-string">"NoItemViewError"</span>),e},serializeData:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e={};<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.model&amp;&amp;(e=<span class="hljs-keyword">this</span>.model.toJSON()),e},render:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.isRendered=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.isClosed=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.resetItemViewContainer(),<span class="hljs-keyword">this</span>.triggerBeforeRender();<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.renderModel();<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$el.html(e),<span class="hljs-keyword">this</span>.bindUIElements(),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"composite:model:rendered"</span>),<span class="hljs-keyword">this</span>._renderChildren(),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"composite:rendered"</span>),<span class="hljs-keyword">this</span>.triggerRendered(),<span class="hljs-keyword">this</span>},_renderChildren:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.isRendered&amp;&amp;(o.CollectionView.prototype._renderChildren.call(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"composite:collection:rendered"</span>))},renderModel:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e={};e=<span class="hljs-keyword">this</span>.serializeData(),e=<span class="hljs-keyword">this</span>.mixinTemplateHelpers(e);<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.getTemplate();<span class="hljs-keyword">return</span> o.Renderer.render(t,e)},appendHtml:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.getItemViewContainer(e);i.append(t.el)},getItemViewContainer:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">if</span>(<span class="hljs-string">"$itemViewContainer"</span><span class="hljs-keyword">in</span> e)<span class="hljs-keyword">return</span> e.$itemViewContainer;<span class="hljs-keyword">var</span> t,n=o.getOption(e,<span class="hljs-string">"itemViewContainer"</span>);<span class="hljs-keyword">if</span>(n){<span class="hljs-keyword">var</span> s=i.isFunction(n)?n():n;t=e.$(s),<span class="hljs-number">0</span>&gt;=t.length&amp;&amp;r(<span class="hljs-string">"The specified `itemViewContainer` was not found: "</span>+e.itemViewContainer,<span class="hljs-string">"ItemViewContainerMissingError"</span>)}<span class="hljs-keyword">else</span> t=e.$el;<span class="hljs-keyword">return</span> e.$itemViewContainer=t,t},resetItemViewContainer:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.$itemViewContainer&amp;&amp;<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.$itemViewContainer}}),o.Layout=o.ItemView.extend({regionType:o.Region,constructor:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>e=e||{},<span class="hljs-keyword">this</span>._firstRender=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._initializeRegions(e),o.ItemView.prototype.constructor.call(<span class="hljs-keyword">this</span>,e)},render:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.isClosed&amp;&amp;<span class="hljs-keyword">this</span>._initializeRegions(),<span class="hljs-keyword">this</span>._firstRender?<span class="hljs-keyword">this</span>._firstRender=!<span class="hljs-number">1</span>:<span class="hljs-keyword">this</span>.isClosed||<span class="hljs-keyword">this</span>._reInitializeRegions();<span class="hljs-keyword">var</span> e=<span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>),t=o.ItemView.prototype.render.apply(<span class="hljs-keyword">this</span>,e);<span class="hljs-keyword">return</span> t},close:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.isClosed){<span class="hljs-keyword">this</span>.regionManager.close();<span class="hljs-keyword">var</span> e=<span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);o.ItemView.prototype.close.apply(<span class="hljs-keyword">this</span>,e)}},addRegion:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i={};<span class="hljs-keyword">return</span> i[e]=t,<span class="hljs-keyword">this</span>._buildRegions(i)[e]},addRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.regions=i.extend({},<span class="hljs-keyword">this</span>.regions,e),<span class="hljs-keyword">this</span>._buildRegions(e)},removeRegion:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.regions[e],<span class="hljs-keyword">this</span>.regionManager.removeRegion(e)},_buildRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>,i={regionType:o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"regionType"</span>),parentEl:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span> t.$el}};<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.regionManager.addRegions(e,i)},_initializeRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">var</span> t;<span class="hljs-keyword">this</span>._initRegionManager(),t=i.isFunction(<span class="hljs-keyword">this</span>.regions)?<span class="hljs-keyword">this</span>.regions(e):<span class="hljs-keyword">this</span>.regions||{},<span class="hljs-keyword">this</span>.addRegions(t)},_reInitializeRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.regionManager.closeRegions(),<span class="hljs-keyword">this</span>.regionManager.each(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>e.reset()})},_initRegionManager:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>.regionManager=<span class="hljs-keyword">new</span> o.RegionManager,<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.regionManager,<span class="hljs-string">"region:add"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">this</span>[e]=t,<span class="hljs-keyword">this</span>.trigger(<span class="hljs-string">"region:add"</span>,e,t)}),<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.regionManager,<span class="hljs-string">"region:remove"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>[e],<span class="hljs-keyword">this</span>.trigger(<span class="hljs-string">"region:remove"</span>,e,t)})}}),o.AppRouter=t.Router.extend({constructor:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>t.Router.prototype.constructor.apply(<span class="hljs-keyword">this</span>,n(<span class="hljs-built_in">arguments</span>)),<span class="hljs-keyword">this</span>.options=e||{};<span class="hljs-keyword">var</span> i=o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"appRoutes"</span>),r=<span class="hljs-keyword">this</span>._getController();<span class="hljs-keyword">this</span>.processAppRoutes(r,i)},appRoute:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>._getController();<span class="hljs-keyword">this</span>._addAppRoute(i,e,t)},processAppRoutes:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">if</span>(t){<span class="hljs-keyword">var</span> n=i.keys(t).reverse();i.each(n,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(i)</span>{</span><span class="hljs-keyword">this</span>._addAppRoute(e,i,t[i])},<span class="hljs-keyword">this</span>)}},_getController:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span> o.getOption(<span class="hljs-keyword">this</span>,<span class="hljs-string">"controller"</span>)},_addAppRoute:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,n)</span>{</span><span class="hljs-keyword">var</span> r=e[n];<span class="hljs-keyword">if</span>(!r)<span class="hljs-keyword">throw</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Method '"</span>+n+<span class="hljs-string">"' was not found on the controller"</span>);<span class="hljs-keyword">this</span>.route(t,n,i.bind(r,e))}}),o.Application=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>._initRegionManager(),<span class="hljs-keyword">this</span>._initCallbacks=<span class="hljs-keyword">new</span> o.Callbacks,<span class="hljs-keyword">this</span>.vent=<span class="hljs-keyword">new</span> t.Wreqr.EventAggregator,<span class="hljs-keyword">this</span>.commands=<span class="hljs-keyword">new</span> t.Wreqr.Commands,<span class="hljs-keyword">this</span>.reqres=<span class="hljs-keyword">new</span> t.Wreqr.RequestResponse,<span class="hljs-keyword">this</span>.submodules={},i.extend(<span class="hljs-keyword">this</span>,e),<span class="hljs-keyword">this</span>.triggerMethod=o.triggerMethod},i.extend(o.Application.prototype,t.Events,{execute:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=<span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);<span class="hljs-keyword">this</span>.commands.execute.apply(<span class="hljs-keyword">this</span>.commands,e)},request:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=<span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.reqres.request.apply(<span class="hljs-keyword">this</span>.reqres,e)},addInitializer:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>._initCallbacks.add(e)},start:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"initialize:before"</span>,e),<span class="hljs-keyword">this</span>._initCallbacks.run(e,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"initialize:after"</span>,e),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"start"</span>,e)},addRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._regionManager.addRegions(e)},closeRegions:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>._regionManager.closeRegions()},removeRegion:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>._regionManager.removeRegion(e)},getRegion:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._regionManager.get(e)},module:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> e=n(<span class="hljs-built_in">arguments</span>);<span class="hljs-keyword">return</span> e.unshift(<span class="hljs-keyword">this</span>),o.Module.create.apply(o.Module,e)},_initRegionManager:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>._regionManager=<span class="hljs-keyword">new</span> o.RegionManager,<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>._regionManager,<span class="hljs-string">"region:add"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">this</span>[e]=t}),<span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>._regionManager,<span class="hljs-string">"region:remove"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>[e]})}}),o.Application.extend=o.extend,o.Module=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">this</span>.moduleName=e,<span class="hljs-keyword">this</span>.submodules={},<span class="hljs-keyword">this</span>._setupInitializersAndFinalizers(),<span class="hljs-keyword">this</span>.app=t,<span class="hljs-keyword">this</span>.startWithParent=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.triggerMethod=o.triggerMethod},i.extend(o.Module.prototype,t.Events,{addInitializer:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>._initializerCallbacks.add(e)},addFinalizer:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>._finalizerCallbacks.add(e)},start:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span><span class="hljs-keyword">this</span>._isInitialized||(i.each(<span class="hljs-keyword">this</span>.submodules,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t)</span>{</span>t.startWithParent&amp;&amp;t.start(e)}),<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"before:start"</span>,e),<span class="hljs-keyword">this</span>._initializerCallbacks.run(e,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._isInitialized=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.triggerMethod(<span class="hljs-string">"start"</span>,e))},stop:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>._isInitialized&amp;&amp;(<span class="hljs-keyword">this</span>._isInitialized=!<span class="hljs-number">1</span>,o.triggerMethod.call(<span class="hljs-keyword">this</span>,<span class="hljs-string">"before:stop"</span>),i.each(<span class="hljs-keyword">this</span>.submodules,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>e.stop()}),<span class="hljs-keyword">this</span>._finalizerCallbacks.run(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._initializerCallbacks.reset(),<span class="hljs-keyword">this</span>._finalizerCallbacks.reset(),o.triggerMethod.call(<span class="hljs-keyword">this</span>,<span class="hljs-string">"stop"</span>))},addDefinition:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t)</span>{</span><span class="hljs-keyword">this</span>._runModuleDefinition(e,t)},_runModuleDefinition:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,n)</span>{</span><span class="hljs-keyword">if</span>(e){<span class="hljs-keyword">var</span> r=i.flatten([<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.app,t,o,o.$,i,n]);e.apply(<span class="hljs-keyword">this</span>,r)}},_setupInitializersAndFinalizers:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">this</span>._initializerCallbacks=<span class="hljs-keyword">new</span> o.Callbacks,<span class="hljs-keyword">this</span>._finalizerCallbacks=<span class="hljs-keyword">new</span> o.Callbacks}}),i.extend(o.Module,{create:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,r)</span>{</span><span class="hljs-keyword">var</span> o=e,s=n(<span class="hljs-built_in">arguments</span>);s.splice(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>),t=t.split(<span class="hljs-string">"."</span>);<span class="hljs-keyword">var</span> h=t.length,a=[];<span class="hljs-keyword">return</span> a[h-<span class="hljs-number">1</span>]=r,i.each(t,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(t,i)</span>{</span><span class="hljs-keyword">var</span> n=o;o=<span class="hljs-keyword">this</span>._getModule(n,t,e),<span class="hljs-keyword">this</span>._addModuleDefinition(n,o,a[i],s)},<span class="hljs-keyword">this</span>),o},_getModule:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,i)</span>{</span><span class="hljs-keyword">var</span> n=e[t];<span class="hljs-keyword">return</span> n||(n=<span class="hljs-keyword">new</span> o.Module(t,i),e[t]=n,e.submodules[t]=n),n},_addModuleDefinition:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e,t,n,r)</span>{</span><span class="hljs-keyword">var</span> o,s;i.isFunction(n)?(o=n,s=!<span class="hljs-number">0</span>):i.isObject(n)?(o=n.define,s=n.startWithParent):s=!<span class="hljs-number">0</span>,o&amp;&amp;t.addDefinition(o,r),t.startWithParent=t.startWithParent&amp;&amp;s,t.startWithParent&amp;&amp;!t.startWithParentIsConfigured&amp;&amp;(t.startWithParentIsConfigured=!<span class="hljs-number">0</span>,e.addInitializer(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>t.startWithParent&amp;&amp;t.start(e)}))}}),o}(<span class="hljs-keyword">this</span>,Backbone,_);</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>@ sourceMappingURL=backbone.marionette.map</p>

            </div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
