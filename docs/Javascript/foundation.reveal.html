<!DOCTYPE html>

<html>
<head>
  <title>foundation.reveal.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="SpecRunner.html">
                SpecRunner.js
              </a>
            
              
              <a class="source" href="app.html">
                app.js
              </a>
            
              
              <a class="source" href="dialog.html">
                dialog.js
              </a>
            
              
              <a class="source" href="modal.html">
                modal.js
              </a>
            
              
              <a class="source" href="revealoptions.html">
                revealoptions.js
              </a>
            
              
              <a class="source" href="localstorage.html">
                localstorage.js
              </a>
            
              
              <a class="source" href="alert_controller.html">
                alert_controller.js
              </a>
            
              
              <a class="source" href="alert_view.html">
                alert_view.js
              </a>
            
              
              <a class="source" href="edit_controller.html">
                edit_controller.js
              </a>
            
              
              <a class="source" href="edit_view.html">
                edit_view.js
              </a>
            
              
              <a class="source" href="episodes_app.html">
                episodes_app.js
              </a>
            
              
              <a class="source" href="feed_controller.html">
                feed_controller.js
              </a>
            
              
              <a class="source" href="feed_view.html">
                feed_view.js
              </a>
            
              
              <a class="source" href="list_controller.html">
                list_controller.js
              </a>
            
              
              <a class="source" href="list_view.html">
                list_view.js
              </a>
            
              
              <a class="source" href="nav_controller.html">
                nav_controller.js
              </a>
            
              
              <a class="source" href="nav_view.html">
                nav_view.js
              </a>
            
              
              <a class="source" href="new_view.html">
                new_view.js
              </a>
            
              
              <a class="source" href="player_controller.html">
                player_controller.js
              </a>
            
              
              <a class="source" href="player_view.html">
                player_view.js
              </a>
            
              
              <a class="source" href="playlist_controller.html">
                playlist_controller.js
              </a>
            
              
              <a class="source" href="playlist_view.html">
                playlist_view.js
              </a>
            
              
              <a class="source" href="show_controller.html">
                show_controller.js
              </a>
            
              
              <a class="source" href="show_view.html">
                show_view.js
              </a>
            
              
              <a class="source" href="FeedSpec.html">
                FeedSpec.js
              </a>
            
              
              <a class="source" href="async.html">
                async.js
              </a>
            
              
              <a class="source" href="list_controller.html">
                list_controller.js
              </a>
            
              
              <a class="source" href="list_view.html">
                list_view.js
              </a>
            
              
              <a class="source" href="show_controller.html">
                show_controller.js
              </a>
            
              
              <a class="source" href="show_view.html">
                show_view.js
              </a>
            
              
              <a class="source" href="subscriptions_app.html">
                subscriptions_app.js
              </a>
            
              
              <a class="source" href="build.html">
                build.js
              </a>
            
              
              <a class="source" href="modal.html">
                modal.js
              </a>
            
              
              <a class="source" href="utils.html">
                utils.js
              </a>
            
              
              <a class="source" href="view.html">
                view.js
              </a>
            
              
              <a class="source" href="views.html">
                views.js
              </a>
            
              
              <a class="source" href="episode.html">
                episode.js
              </a>
            
              
              <a class="source" href="feed.html">
                feed.js
              </a>
            
              
              <a class="source" href="player.html">
                player.js
              </a>
            
              
              <a class="source" href="playlist.html">
                playlist.js
              </a>
            
              
              <a class="source" href="subscriptions.html">
                subscriptions.js
              </a>
            
              
              <a class="source" href="topics.html">
                topics.js
              </a>
            
              
              <a class="source" href="require_main.html">
                require_main.js
              </a>
            
              
              <a class="source" href="require_main_built.html">
                require_main_built.js
              </a>
            
              
              <a class="source" href="almond.html">
                almond.js
              </a>
            
              
              <a class="source" href="backbone.babysitter.html">
                backbone.babysitter.js
              </a>
            
              
              <a class="source" href="backbone.html">
                backbone.js
              </a>
            
              
              <a class="source" href="backbone.localstorage.html">
                backbone.localstorage.js
              </a>
            
              
              <a class="source" href="backbone.localstorage.min.html">
                backbone.localstorage.min.js
              </a>
            
              
              <a class="source" href="backbone.marionette.html">
                backbone.marionette.js
              </a>
            
              
              <a class="source" href="backbone.marionette.min.html">
                backbone.marionette.min.js
              </a>
            
              
              <a class="source" href="backbone.picky.html">
                backbone.picky.js
              </a>
            
              
              <a class="source" href="backbone.syphon.html">
                backbone.syphon.js
              </a>
            
              
              <a class="source" href="backbone.wreqr.html">
                backbone.wreqr.js
              </a>
            
              
              <a class="source" href="foundation.fastclick.html">
                foundation.fastclick.js
              </a>
            
              
              <a class="source" href="foundation.html">
                foundation.js
              </a>
            
              
              <a class="source" href="foundation.min.html">
                foundation.min.js
              </a>
            
              
              <a class="source" href="foundation.offcanvas.html">
                foundation.offcanvas.js
              </a>
            
              
              <a class="source" href="foundation.reveal.html">
                foundation.reveal.js
              </a>
            
              
              <a class="source" href="jasmine-html.html">
                jasmine-html.js
              </a>
            
              
              <a class="source" href="jasmine.html">
                jasmine.js
              </a>
            
              
              <a class="source" href="jasmine-html.html">
                jasmine-html.js
              </a>
            
              
              <a class="source" href="jasmine.html">
                jasmine.js
              </a>
            
              
              <a class="source" href="jquery-ui-1.10.3.min.html">
                jquery-ui-1.10.3.min.js
              </a>
            
              
              <a class="source" href="jquery-ui.html">
                jquery-ui.js
              </a>
            
              
              <a class="source" href="jquery.html">
                jquery.js
              </a>
            
              
              <a class="source" href="jquery.transit.html">
                jquery.transit.js
              </a>
            
              
              <a class="source" href="jquery.transmit.html">
                jquery.transmit.js
              </a>
            
              
              <a class="source" href="json2.html">
                json2.js
              </a>
            
              
              <a class="source" href="log.html">
                log.js
              </a>
            
              
              <a class="source" href="modernizr.html">
                modernizr.js
              </a>
            
              
              <a class="source" href="require.html">
                require.js
              </a>
            
              
              <a class="source" href="jasmine-sinon.html">
                jasmine-sinon.js
              </a>
            
              
              <a class="source" href="sinon.html">
                sinon.js
              </a>
            
              
              <a class="source" href="spin.jquery.html">
                spin.jquery.js
              </a>
            
              
              <a class="source" href="spin.html">
                spin.js
              </a>
            
              
              <a class="source" href="tpl.html">
                tpl.js
              </a>
            
              
              <a class="source" href="underscore.html">
                underscore.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>foundation.reveal.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>;(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($, window, document, undefined)</span> {</span>
<span class="hljs-pi">  'use strict'</span>;

  Foundation.libs.reveal = {
    name : <span class="hljs-string">'reveal'</span>,

    version : <span class="hljs-string">'5.0.0'</span>,

    locked : <span class="hljs-literal">false</span>,

    settings : {
      animation: <span class="hljs-string">'fadeAndPop'</span>,
      animation_speed: <span class="hljs-number">250</span>,
      close_on_background_click: <span class="hljs-literal">true</span>,
      close_on_esc: <span class="hljs-literal">true</span>,
      dismiss_modal_class: <span class="hljs-string">'close-reveal-modal'</span>,
      bg_class: <span class="hljs-string">'reveal-modal-bg'</span>,
      open: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>},
      opened: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>},
      close: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>},
      closed: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>},
      bg : $(<span class="hljs-string">'.reveal-modal-bg'</span>),
      css : {
        open : {
          <span class="hljs-string">'opacity'</span>: <span class="hljs-number">0</span>,
          <span class="hljs-string">'visibility'</span>: <span class="hljs-string">'visible'</span>,
          <span class="hljs-string">'display'</span> : <span class="hljs-string">'block'</span>
        },
        close : {
          <span class="hljs-string">'opacity'</span>: <span class="hljs-number">1</span>,
          <span class="hljs-string">'visibility'</span>: <span class="hljs-string">'hidden'</span>,
          <span class="hljs-string">'display'</span>: <span class="hljs-string">'none'</span>
        }
      }
    },

    init : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scope, method, options)</span> {</span>
      Foundation.inherit(<span class="hljs-keyword">this</span>, <span class="hljs-string">'delay'</span>);

      <span class="hljs-keyword">this</span>.bindings(method, options);
    },

    events : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scope)</span> {</span>
      <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

      $(<span class="hljs-string">'[data-reveal-id]'</span>, <span class="hljs-keyword">this</span>.scope)
        .off(<span class="hljs-string">'.reveal'</span>)
        .on(<span class="hljs-string">'click.fndtn.reveal'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span>
          e.preventDefault();

          <span class="hljs-keyword">if</span> (!self.locked) {
            <span class="hljs-keyword">var</span> element = $(<span class="hljs-keyword">this</span>),
                ajax = element.data(<span class="hljs-string">'reveal-ajax'</span>);

            self.locked = <span class="hljs-literal">true</span>;

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ajax === <span class="hljs-string">'undefined'</span>) {
              self.open.call(self, element);
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-keyword">var</span> url = ajax === <span class="hljs-literal">true</span> ? element.attr(<span class="hljs-string">'href'</span>) : ajax;

              self.open.call(self, element, {url: url});
            }
          }
        });

      $(<span class="hljs-keyword">this</span>.scope)
        .off(<span class="hljs-string">'.reveal'</span>)
        .on(<span class="hljs-string">'click.fndtn.reveal'</span>, <span class="hljs-keyword">this</span>.close_targets(), <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span>

          e.preventDefault();

          <span class="hljs-keyword">if</span> (!self.locked) {
            <span class="hljs-keyword">var</span> settings = $(<span class="hljs-string">'[data-reveal].open'</span>).data(<span class="hljs-string">'reveal-init'</span>),
                bg_clicked = $(e.target)[<span class="hljs-number">0</span>] === $(<span class="hljs-string">'.'</span> + settings.bg_class)[<span class="hljs-number">0</span>];

            <span class="hljs-keyword">if</span> (bg_clicked &amp;&amp; !settings.close_on_background_click) {
              <span class="hljs-keyword">return</span>;
            }

            self.locked = <span class="hljs-literal">true</span>;
            self.close.call(self, bg_clicked ? $(<span class="hljs-string">'[data-reveal].open'</span>) : $(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">'[data-reveal]'</span>));
          }
        });

      <span class="hljs-keyword">if</span>($(<span class="hljs-string">'[data-reveal]'</span>, <span class="hljs-keyword">this</span>.scope).length &gt; <span class="hljs-number">0</span>) {
        $(<span class="hljs-keyword">this</span>.scope)</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>.off(‘.reveal’)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          .on(<span class="hljs-string">'open.fndtn.reveal'</span>, <span class="hljs-keyword">this</span>.settings.open)
          .on(<span class="hljs-string">'opened.fndtn.reveal'</span>, <span class="hljs-keyword">this</span>.settings.opened)
          .on(<span class="hljs-string">'opened.fndtn.reveal'</span>, <span class="hljs-keyword">this</span>.open_video)
          .on(<span class="hljs-string">'close.fndtn.reveal'</span>, <span class="hljs-keyword">this</span>.settings.close)
          .on(<span class="hljs-string">'closed.fndtn.reveal'</span>, <span class="hljs-keyword">this</span>.settings.closed)
          .on(<span class="hljs-string">'closed.fndtn.reveal'</span>, <span class="hljs-keyword">this</span>.close_video);
      } <span class="hljs-keyword">else</span> {
        $(<span class="hljs-keyword">this</span>.scope)</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>.off(‘.reveal’)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          .on(<span class="hljs-string">'open.fndtn.reveal'</span>, <span class="hljs-string">'[data-reveal]'</span>, <span class="hljs-keyword">this</span>.settings.open)
          .on(<span class="hljs-string">'opened.fndtn.reveal'</span>, <span class="hljs-string">'[data-reveal]'</span>, <span class="hljs-keyword">this</span>.settings.opened)
          .on(<span class="hljs-string">'opened.fndtn.reveal'</span>, <span class="hljs-string">'[data-reveal]'</span>, <span class="hljs-keyword">this</span>.open_video)
          .on(<span class="hljs-string">'close.fndtn.reveal'</span>, <span class="hljs-string">'[data-reveal]'</span>, <span class="hljs-keyword">this</span>.settings.close)
          .on(<span class="hljs-string">'closed.fndtn.reveal'</span>, <span class="hljs-string">'[data-reveal]'</span>, <span class="hljs-keyword">this</span>.settings.closed)
          .on(<span class="hljs-string">'closed.fndtn.reveal'</span>, <span class="hljs-string">'[data-reveal]'</span>, <span class="hljs-keyword">this</span>.close_video);
      }

      $(<span class="hljs-string">'body'</span>).on(<span class="hljs-string">'keyup.fndtn.reveal'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">( event )</span> {</span>
        <span class="hljs-keyword">var</span> open_modal = $(<span class="hljs-string">'[data-reveal].open'</span>),
            settings = open_modal.data(<span class="hljs-string">'reveal-init'</span>);
        <span class="hljs-keyword">if</span> ( event.which === <span class="hljs-number">27</span>  &amp;&amp; settings.close_on_esc) { <span class="hljs-comment">// 27 is the keycode for the Escape key</span>
          open_modal.foundation(<span class="hljs-string">'reveal'</span>, <span class="hljs-string">'close'</span>);
        }
      });

      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },

    open : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(target, ajax_settings)</span> {</span>
      <span class="hljs-keyword">if</span> (target) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> target.selector !== <span class="hljs-string">'undefined'</span>) {
          <span class="hljs-keyword">var</span> modal = $(<span class="hljs-string">'#'</span> + target.data(<span class="hljs-string">'reveal-id'</span>));
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">var</span> modal = $(<span class="hljs-keyword">this</span>.scope);

          ajax_settings = target;
        }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> modal = $(<span class="hljs-keyword">this</span>.scope);
      }

      <span class="hljs-keyword">if</span> (!modal.hasClass(<span class="hljs-string">'open'</span>)) {
        <span class="hljs-keyword">var</span> open_modal = $(<span class="hljs-string">'[data-reveal].open'</span>);

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> modal.data(<span class="hljs-string">'css-top'</span>) === <span class="hljs-string">'undefined'</span>) {
          modal.data(<span class="hljs-string">'css-top'</span>, <span class="hljs-built_in">parseInt</span>(modal.css(<span class="hljs-string">'top'</span>), <span class="hljs-number">10</span>))
            .data(<span class="hljs-string">'offset'</span>, <span class="hljs-keyword">this</span>.cache_offset(modal));
        }

        modal.trigger(<span class="hljs-string">'open'</span>);

        <span class="hljs-keyword">if</span> (open_modal.length &lt; <span class="hljs-number">1</span>) {
          <span class="hljs-keyword">this</span>.toggle_bg();
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ajax_settings === <span class="hljs-string">'undefined'</span> || !ajax_settings.url) {
          <span class="hljs-keyword">this</span>.hide(open_modal, <span class="hljs-keyword">this</span>.settings.css.close);
          <span class="hljs-keyword">this</span>.show(modal, <span class="hljs-keyword">this</span>.settings.css.open);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>,
              old_success = <span class="hljs-keyword">typeof</span> ajax_settings.success !== <span class="hljs-string">'undefined'</span> ? ajax_settings.success : <span class="hljs-literal">null</span>;

          $.extend(ajax_settings, {
            success: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data, textStatus, jqXHR)</span> {</span>
              <span class="hljs-keyword">if</span> ( $.isFunction(old_success) ) {
                old_success(data, textStatus, jqXHR);
              }

              modal.html(data);
              $(modal).foundation(<span class="hljs-string">'section'</span>, <span class="hljs-string">'reflow'</span>);

              self.hide(open_modal, self.settings.css.close);
              self.show(modal, self.settings.css.open);
            }
          });

          $.ajax(ajax_settings);
        }
      }
    },

    close : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(modal)</span> {</span>

      <span class="hljs-keyword">var</span> modal = modal &amp;&amp; modal.length ? modal : $(<span class="hljs-keyword">this</span>.scope),
          open_modals = $(<span class="hljs-string">'[data-reveal].open'</span>);

      <span class="hljs-keyword">if</span> (open_modals.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">this</span>.locked = <span class="hljs-literal">true</span>;
        modal.trigger(<span class="hljs-string">'close'</span>);
        <span class="hljs-keyword">this</span>.toggle_bg();
        <span class="hljs-keyword">this</span>.hide(open_modals, <span class="hljs-keyword">this</span>.settings.css.close);
      }
    },

    close_targets : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
      <span class="hljs-keyword">var</span> base = <span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.settings.dismiss_modal_class;

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.settings.close_on_background_click) {
        <span class="hljs-keyword">return</span> base + <span class="hljs-string">', .'</span> + <span class="hljs-keyword">this</span>.settings.bg_class;
      }

      <span class="hljs-keyword">return</span> base;
    },

    toggle_bg : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
      <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.settings.bg_class).length === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">this</span>.settings.bg = $(<span class="hljs-string">'&lt;div /&gt;'</span>, {<span class="hljs-string">'class'</span>: <span class="hljs-keyword">this</span>.settings.bg_class})
          .appendTo(<span class="hljs-string">'body'</span>);
      }

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.settings.bg.filter(<span class="hljs-string">':visible'</span>).length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">this</span>.hide(<span class="hljs-keyword">this</span>.settings.bg);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.show(<span class="hljs-keyword">this</span>.settings.bg);
      }
    },

    show : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(el, css)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>is modal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (css) {
        <span class="hljs-keyword">if</span> (el.parent(<span class="hljs-string">'body'</span>).length === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">var</span> placeholder = el.wrap(<span class="hljs-string">'&lt;div style="display: none;" /&gt;'</span>).parent();
          el.on(<span class="hljs-string">'closed.fndtn.reveal.wrapped'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            el.detach().appendTo(placeholder);
            el.unwrap().unbind(<span class="hljs-string">'closed.fndtn.reveal.wrapped'</span>);
          });

          el.detach().appendTo(<span class="hljs-string">'body'</span>);
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/pop/i</span>.test(<span class="hljs-keyword">this</span>.settings.animation)) {
          css.top = $(window).scrollTop() - el.data(<span class="hljs-string">'offset'</span>) + <span class="hljs-string">'px'</span>;
          <span class="hljs-keyword">var</span> end_css = {
            top: $(window).scrollTop() + el.data(<span class="hljs-string">'css-top'</span>) + <span class="hljs-string">'px'</span>,
            opacity: <span class="hljs-number">1</span>
          };

          <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.delay(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">return</span> el
              .css(css)
              .animate(end_css, <span class="hljs-keyword">this</span>.settings.animation_speed, <span class="hljs-string">'linear'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
                <span class="hljs-keyword">this</span>.locked = <span class="hljs-literal">false</span>;
                el.trigger(<span class="hljs-string">'opened'</span>);
              }.bind(<span class="hljs-keyword">this</span>))
              .addClass(<span class="hljs-string">'open'</span>);
          }.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.settings.animation_speed / <span class="hljs-number">2</span>);
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/fade/i</span>.test(<span class="hljs-keyword">this</span>.settings.animation)) {
          <span class="hljs-keyword">var</span> end_css = {opacity: <span class="hljs-number">1</span>};

          <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.delay(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">return</span> el
              .css(css)
              .animate(end_css, <span class="hljs-keyword">this</span>.settings.animation_speed, <span class="hljs-string">'linear'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
                <span class="hljs-keyword">this</span>.locked = <span class="hljs-literal">false</span>;
                el.trigger(<span class="hljs-string">'opened'</span>);
              }.bind(<span class="hljs-keyword">this</span>))
              .addClass(<span class="hljs-string">'open'</span>);
          }.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.settings.animation_speed / <span class="hljs-number">2</span>);
        }

        <span class="hljs-keyword">return</span> el.css(css).show().css({opacity: <span class="hljs-number">1</span>}).addClass(<span class="hljs-string">'open'</span>).trigger(<span class="hljs-string">'opened'</span>);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>should we animate the background?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/fade/i</span>.test(<span class="hljs-keyword">this</span>.settings.animation)) {
        <span class="hljs-keyword">return</span> el.fadeIn(<span class="hljs-keyword">this</span>.settings.animation_speed / <span class="hljs-number">2</span>);
      }

      <span class="hljs-keyword">return</span> el.show();
    },

    hide : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(el, css)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>is modal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (css) {
        <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/pop/i</span>.test(<span class="hljs-keyword">this</span>.settings.animation)) {
          <span class="hljs-keyword">var</span> end_css = {
            top: - $(window).scrollTop() - el.data(<span class="hljs-string">'offset'</span>) + <span class="hljs-string">'px'</span>,
            opacity: <span class="hljs-number">0</span>
          };

          <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.delay(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">return</span> el
              .animate(end_css, <span class="hljs-keyword">this</span>.settings.animation_speed, <span class="hljs-string">'linear'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
                <span class="hljs-keyword">this</span>.locked = <span class="hljs-literal">false</span>;
                el.css(css).trigger(<span class="hljs-string">'closed'</span>);
              }.bind(<span class="hljs-keyword">this</span>))
              .removeClass(<span class="hljs-string">'open'</span>);
          }.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.settings.animation_speed / <span class="hljs-number">2</span>);
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/fade/i</span>.test(<span class="hljs-keyword">this</span>.settings.animation)) {
          <span class="hljs-keyword">var</span> end_css = {opacity: <span class="hljs-number">0</span>};

          <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.delay(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">return</span> el
              .animate(end_css, <span class="hljs-keyword">this</span>.settings.animation_speed, <span class="hljs-string">'linear'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
                <span class="hljs-keyword">this</span>.locked = <span class="hljs-literal">false</span>;
                el.css(css).trigger(<span class="hljs-string">'closed'</span>);
              }.bind(<span class="hljs-keyword">this</span>))
              .removeClass(<span class="hljs-string">'open'</span>);
          }.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.settings.animation_speed / <span class="hljs-number">2</span>);
        }

        <span class="hljs-keyword">return</span> el.hide().css(css).removeClass(<span class="hljs-string">'open'</span>).trigger(<span class="hljs-string">'closed'</span>);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>should we animate the background?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/fade/i</span>.test(<span class="hljs-keyword">this</span>.settings.animation)) {
        <span class="hljs-keyword">return</span> el.fadeOut(<span class="hljs-keyword">this</span>.settings.animation_speed / <span class="hljs-number">2</span>);
      }

      <span class="hljs-keyword">return</span> el.hide();
    },

    close_video : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span>
      <span class="hljs-keyword">var</span> video = $(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'.flex-video'</span>),
          iframe = video.find(<span class="hljs-string">'iframe'</span>);

      <span class="hljs-keyword">if</span> (iframe.length &gt; <span class="hljs-number">0</span>) {
        iframe.attr(<span class="hljs-string">'data-src'</span>, iframe[<span class="hljs-number">0</span>].src);
        iframe.attr(<span class="hljs-string">'src'</span>, <span class="hljs-string">'about:blank'</span>);
        video.hide();
      }
    },

    open_video : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span>
      <span class="hljs-keyword">var</span> video = $(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">'.flex-video'</span>),
          iframe = video.find(<span class="hljs-string">'iframe'</span>);

      <span class="hljs-keyword">if</span> (iframe.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">var</span> data_src = iframe.attr(<span class="hljs-string">'data-src'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data_src === <span class="hljs-string">'string'</span>) {
          iframe[<span class="hljs-number">0</span>].src = iframe.attr(<span class="hljs-string">'data-src'</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">var</span> src = iframe[<span class="hljs-number">0</span>].src;
          iframe[<span class="hljs-number">0</span>].src = <span class="hljs-literal">undefined</span>;
          iframe[<span class="hljs-number">0</span>].src = src;
        }
        video.show();
      }
    },

    cache_offset : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(modal)</span> {</span>
      <span class="hljs-keyword">var</span> offset = modal.show().height() + <span class="hljs-built_in">parseInt</span>(modal.css(<span class="hljs-string">'top'</span>), <span class="hljs-number">10</span>);

      modal.hide();

      <span class="hljs-keyword">return</span> offset;
    },

    off : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
      $(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">'.fndtn.reveal'</span>);
    },

    reflow : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>}
  };
}(jQuery, <span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.document));</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
